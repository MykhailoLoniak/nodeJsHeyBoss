# Документація до маршруту /api/auth/events

## Опис

Маршрути для роботи з календарними подіями: отримання, створення, оновлення та видалення подій із можливістю фільтрації за датою або діапазоном дат.

## Ендпоїнти

### 1. Отримати список подій

**GET /api/auth/events**

#### Опис

Повертає масив подій. Підтримує фільтрацію за однією датою чи діапазоном дат.

#### Параметри запиту:

- date (string, формат YYYY-MM-DD) — повернути події лише на цю дату.

- start (string, формат YYYY-MM-DD) — початок діапазону (включно).

- end (string, формат YYYY-MM-DD) — кінець діапазону (включно).

#### Відповідь (200 OK):

```json
[
  {
    "id": 1,
    "title": "Зустріч з клієнтом",
    "description": "Обговорення ТЗ",
    "start": "2025-07-10T10:00:00.000Z",
    "end": "2025-07-10T11:00:00.000Z",
    "user_id": 5,
    "created_at": "2025-06-01T12:00:00.000Z",
    "updated_at": "2025-06-02T15:30:00.000Z"
  },
  ...
]
```

### 2. Отримати подію за ID

**GET /api/auth/events/:id**

#### Опис

Повертає одну подію за її унікальним ідентифікатором.

#### Параметри шляху:

- id (integer) — ідентифікатор події.

#### Відповідь (200 OK):

```json
{
  "id": 1,
  "title": "Зустріч з клієнтом",
  "description": "Обговорення ТЗ",
  "start": "2025-07-10T10:00:00.000Z",
  "end": "2025-07-10T11:00:00.000Z",
  "user_id": 5,
  "created_at": "2025-06-01T12:00:00.000Z",
  "updated_at": "2025-06-02T15:30:00.000Z"
}
```

#### Відповідь при помилці (404 Not Found):

```json
{ "message": "Event not found" }
```

### 3. Створити нову подію

**POST /api/auth/events**

#### Опис

Створює нову подію.

#### Тіло запиту (JSON):

- title (string, обов'язково)

- description (string, опційно)

- start (string, дата-час, обов'язково)

- end (string, дата-час, обов'язково)

- user_id (integer, обов'язково)

#### Відповідь (201 Created):

```json
{
  "id": 2,
  "title": "Нова подія",
  "description": "Опис події",
  "start": "2025-07-15T09:00:00.000Z",
  "end": "2025-07-15T10:00:00.000Z",
  "user_id": 5,
  "created_at": "2025-06-05T08:00:00.000Z",
  "updated_at": "2025-06-05T08:00:00.000Z"
}
```

### 4. Оновити подію

**PUT /api/auth/events/:id**

#### Опис

Оновлює поля існуючої події.

#### Параметри шляху:

- id (integer) — ідентифікатор події.

#### Тіло запиту (JSON):

- Ті ж поля, що у створенні; всі опційні, але при відсутності не змінюються.

#### Відповідь (200 OK):

```json
{
  /* оновлена подія */
}
```

#### Відповідь при помилці (404 Not Found):

```json
{ "message": "Event not found" }
```

### 5. Видалити подію

**DELETE /api/auth/events/:id**

#### Опис

Видаляє подію за ідентифікатором.

#### Параметри шляху:

- id (integer) — ідентифікатор події.

#### Тіло запиту (JSON):

- Ті ж поля, що у створенні; всі опційні, але при відсутності не змінюються.

#### Відповідь (200 OK):

```json
{ "message": "Event deleted" }
```

### 6. Поділитися подією з командою

**POST /api/auth/events/:id/share**

#### Опис

Дозволяє надати доступ до події групі користувачів або команді.

#### Параметри шляху:

- id (integer) — ідентифікатор події.

#### Тіло запиту (JSON):

- team_id (integer, опційно) — ідентифікатор команди, з якою ділиться подія.

- user_ids (array of integers, опційно) — список ідентифікаторів користувачів для доступу.

Умови: достатньо вказати або team_id, або user_ids.

#### Відповідь (200 OK):

```json
{
  "message": "Event shared successfully",
  "shared_with": {
    "team_id": 3,
    "user_ids": [5, 7, 9]
  }
}
```

### 7. Отримати список користувачів з доступом

**GET /api/auth/events/:id/share**

#### Опис

Повертає перелік команд чи користувачів, з якими було поділено подію.

#### Параметри шляху:

- id (integer) — ідентифікатор події.

#### Відповідь (200 OK):

```json
{
  "event_id": 10,
  "shared_with": {
    "team_id": 3,
    "user_ids": [5, 7, 9]
  }
}
```
